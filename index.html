<html>
  <head>
    <script src="jquery.min.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs"></script>
    <script src="https://unpkg.com/@tensorflow-models/posenet"></script>
    <script src="Stats.js"></script>
    <script src="posenet_sample.js"></script>
  </head>
  <body>
    <video id="video" width="800px" height="600px" autoplay="1" style="position:absolute;"></video>
    <canvas id="canvas" width="800px" height="600px" style="position:absolute;"></canvas>
    <div class="ball"></div>
    <script>
        function doPost(url) {
            console.log("doPost");
            $.post({
                url: url,
                dataType: 'json',
                // type: 'post',
                contentType: false,
                processData: false,
                data:"data"
            }).promise().then(
                function(result, status) { 
                    // console.log("success")
                },
                function(result, status) {
                    location.reload();
                    // console.log("failure")
                }
            );
        }

        function audioOnEnd(){
            doPost(url);
        }

        function audioOffEnd(){
            doPost(url);
        }

    </script>
    <audio id="audio_on" preload="auto" controls onended="audioOnEnd()">
        <source src="on.wav" type="audio/wav">
    </audio>
    <audio id="audio_off" preload="auto" controls onended="audioOffEnd()">
            <source src="off.wav" type="audio/wav">
        </audio>

</body>
</html>
